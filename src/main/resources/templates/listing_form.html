<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<header th:replace="~{fragments/header :: header}"> </header>
<body>
<header th:replace="~{fragments/global/header :: header}">Global Header</header>
	<section class="form_section">
		<div class="container form_section-container">
			<h2 th:text="${title}">Title</h2>

			<form th:action="@{/saveListing}" method="post"
				enctype="multipart/form-data" th:object="${listing}"
			>

				<input type="hidden" th:field="*{id}" /> 
				<label>Title</label>
				<input type="text" th:field="*{title}" placeholder="Title"/> 
				<span class="alert_message error"
					th:if="${#fields.hasErrors('title')}" th:errors="*{title}">Title
					error</span> 
					
				<div class="form_control">
                  <label for="category">Category</label>
				  <select th:field="*{category}" >
					 <option th:each="ca : ${categories}" th:text="${ca.name}"
						th:value="${ca.id}">
				   </select> 
				</div>
				<label>Estimated Value</label>
				<input type="number" th:field="*{estValue}" placeholder="Estimate value"/> 
				<span
					class="alert_message error"
					th:if="${#fields.hasErrors('estValue')}" th:errors="*{estValue}">Estimate
					value error</span>
					
                <div class="form_control">
                  <label for="deliveries">Delivery</label> 
				  <ul id="deliveries" style="list-style: none">
					<li th:each="deli: ${deliveries}"
						style="display: inline-block; padding-right: 10px"><input
						type="radio" th:field="*{delivery}" th:value="${deli}"
						th:text="${deli}"></li>
				  </ul>
                </div>	
                
                <input type="hidden" name="status"  id="status" value="available"/>

                <div class="form_control">
                  <label for="conditions">Condition</label> 
				    
				  <ul id="conditions" style="list-style: none">
					<li th:each="condition: ${conditions}"
						style="display: inline-block; padding-right: 10px">
						<input type="radio" th:field="*{state}" th:value="${condition}"
						th:text="${condition}"></li>
				  </ul>
                </div>
				<label>Description</label>
				<textarea rows="10" th:field="*{description}" placehoder="description" placeholder="Describe the object here"></textarea>

				<div class="form_control">
					<label for="thumbnail">Change thumbnail</label> 
				    <input type="file" id="thumbnail" name="imgFile" />
				</div>

				<button type="submit" class="btn">Submit</button>
			</form>
		</div>
	</section>
	
	<footer th:replace="~{fragments/global/footer :: footer}">Global Header</footer>
	
</body>
</html>
